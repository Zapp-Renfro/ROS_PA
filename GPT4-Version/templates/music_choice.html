<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Music Selection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='music_choice.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>Background music suggestions</h1>
        </header>

        {% if error %}
            <p class="error">{{ error }}</p>
        {% endif %}

        <section>
            <h2>Top Tracks</h2>
            <ul class="track-list">
                {% for track in top_tracks %}
                    <li class="track-item">
                        <div class="track-info">
                            <span>{{ track['name'] }} by {{ track['artist_name'] }}</span>
                            <audio controls>
                                <source src="{{ track['audio'] }}" type="audio/mpeg">
                                Your browser doesn't support this type of audio.
                            </audio>
                        </div>
                        <form method="POST" action="{{ url_for('select_track') }}" class="select-form">
                            <input type="hidden" name="track_id" value="{{ track['id'] }}">
                            <input type="hidden" name="track_name" value="{{ track['name'] }}">
                            <input type="hidden" name="artist_name" value="{{ track['artist_name'] }}">
                            <input type="hidden" name="preview_url" value="{{ track['audio'] }}">
                            <button type="submit">Pick</button>
                        </form>
                    </li>
                {% endfor %}
            </ul>
        </section>

        <section>
            <h2>Search for other music tracks</h2>
            <form method="POST" class="search-form">
                <label for="query">Enter your search here</label>
                <input type="text" id="query" name="query">
                <button type="submit">Search</button>
            </form>
        </section>

        <section>
            <h2>Search results</h2>
            <ul class="track-list">
                {% for track in search_tracks %}
                    <li class="track-item">
                        <div class="track-info">
                            <span>{{ track['name'] }} by {{ track['artist_name'] }}</span>
                            <audio controls>
                                <source src="{{ track['audio'] }}" type="audio/mpeg">
                                Your browser doesn't support this type of audio.
                            </audio>
                        </div>
                        <form method="POST" action="{{ url_for('select_track') }}" class="select-form">
                            <input type="hidden" name="track_id" value="{{ track['id'] }}">
                            <input type="hidden" name="track_name" value="{{ track['name'] }}">
                            <input type="hidden" name="artist_name" value="{{ track['artist_name'] }}">
                            <input type="hidden" name="preview_url" value="{{ track['audio'] }}">
                            <button type="submit">Pick</button>
                        </form>
                    </li>
                {% endfor %}
            </ul>
        </section>
    </div>
</body>
</html>A
